#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// limits so we donâ€™t overflow stuff
#define LIMIT 100
#define NAME_SIZE 50

// simple struct to hold student data
typedef struct {
    int studentId;
    char studentName[NAME_SIZE];
    int present;   // 1 = yes, 0 = no
} Record;

// global storage (simple approach)
Record list[LIMIT];
int total = 0;


// add a new student entry
void addEntry() {
    if (total >= LIMIT) {
        printf("List is full. Can't add more.\n");
        return;
    }

    printf("Student ID: ");
    scanf("%d", &list[total].studentId);

    printf("Student Name: ");
    scanf("%s", list[total].studentName);

    printf("Present? (1 = yes, 0 = no): ");
    scanf("%d", &list[total].present);

    total++;
    printf("Added.\n");
}


// show everything in the list
void showAll() {
    if (total == 0) {
        printf("Nothing here yet.\n");
        return;
    }

    printf("\n--- Attendance List ---\n");
    for (int i = 0; i < total; i++) {
        printf("ID: %d | Name: %s | Status: %s\n",
               list[i].studentId,
               list[i].studentName,
               list[i].present ? "Present" : "Absent");
    }
}


// find a student by ID
void findById() {
    int target;
    printf("Enter ID to look for: ");
    scanf("%d", &target);

    for (int i = 0; i < total; i++) {
        if (list[i].studentId == target) {
            printf("Found it.\n");
            printf("ID: %d\n", list[i].studentId);
            printf("Name: %s\n", list[i].studentName);
            printf("Status: %s\n",
                   list[i].present ? "Present" : "Absent");
            return;
        }
    }

    printf("No student with ID %d.\n", target);
}


// remove a student by ID
void removeById() {
    int target;
    printf("Enter ID to remove: ");
    scanf("%d", &target);

    for (int i = 0; i < total; i++) {
        if (list[i].studentId == target) {

            // shift everything left
            for (int k = i; k < total - 1; k++) {
                list[k] = list[k + 1];
            }

            total--;
            printf("Removed.\n");
            return;
        }
    }

    printf("ID not found.\n");
}


int main() {
    int choice;

    while (1) {
        printf("\nAttendance System\n");
        printf("1. Add Entry\n");
        printf("2. Show All\n");
        printf("3. Find by ID\n");
        printf("4. Remove by ID\n");
        printf("5. Exit\n");
        printf("Choose: ");

        scanf("%d", &choice);

        switch (choice) {
            case 1:
                addEntry();
                break;
            case 2:
                showAll();
                break;
            case 3:
                findById();
                break;
            case 4:
                removeById();
                break;
            case 5:
                printf("Bye.\n");
                return 0;
            default:
                printf("Invalid choice.\n");
        }
    }

    return 0;
}